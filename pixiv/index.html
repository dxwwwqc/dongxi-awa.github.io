
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Pixiv æ”¶è— | å†¬æ –ã®å°çª</title>
    <meta name="author" content="å†¬æ –" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/dongxi-awa.github.io/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/dongxi-awa.github.io/js/lib/highlight.js"></script>



<script src="/dongxi-awa.github.io/js/lib/preview.js"></script>





<link rel="stylesheet" href="/dongxi-awa.github.io/css/main.css" />

    
    <!-- è‡ªå®šä¹‰å…‰æ ‡æ ·å¼ -->
    <style>
        /* è‡ªåŠ¨æ³¨å…¥çš„å…‰æ ‡æ ·å¼ */
        body {
            cursor: url('/dongxi-awa.github.io/cursors/Normal.png'), auto !important;
        }
        a, button, .btn, [role="button"] {
            cursor: url('/dongxi-awa.github.io/cursors/Link.png'), pointer !important;
        }
        input, textarea, [contenteditable="true"] {
            cursor: url('/dongxi-awa.github.io/cursors/Text.png'), text !important;
        }
        code, pre {
            cursor: url('/dongxi-awa.github.io/cursors/Text.png'), text !important;
        }
        [title]:hover {
            cursor: url('/dongxi-awa.github.io/cursors/Help.png'), help !important;
        }
        [disabled], .disabled {
            cursor: url('/dongxi-awa.github.io/cursors/Unavailable.png'), not-allowed !important;
        }
        .loading {
            cursor: url('/dongxi-awa.github.io/cursors/Busy.png'), wait !important;
        }
        .alternate {
            cursor: url('/dongxi-awa.github.io/cursors/Alternate.png'), context-menu !important;
        }
        .precision {
            cursor: url('/dongxi-awa.github.io/cursors/Precision.png'), crosshair !important;
        }
        .move {
            cursor: url('/dongxi-awa.github.io/cursors/Move.png'), move !important;
        }
    </style>
<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜ æµè§ˆå™¨é»˜è®¤å¼€å¯</p>
                    <img src="/dongxi-awa.github.io/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/dongxi-awa.github.io/">
            <span>å†¬æ –ã®å°çª</span>
        </a>
        
        <a href="/dongxi-awa.github.io/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/dongxi-awa.github.io/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/dongxi-awa.github.io/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/dongxi-awa.github.io/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/dongxi-awa.github.io/music/music.html">
            <i class="fa-solid fa-music fa-fw"></i>
            <span>&ensp;Music</span>
        </a>
        
        <a href="/dongxi-awa.github.io/pixiv">
            <i class="fa-solid fa-pixiv fa-fw"></i>
            <span>&ensp;Pixiv</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;å†¬æ –ã®å°çª</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/dongxi-awa.github.io/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/dongxi-awa.github.io/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/dongxi-awa.github.io/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/dongxi-awa.github.io/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/dongxi-awa.github.io/music/music.html">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-music fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Music</div>
                    </div>
                </a>
                
                <a href="/dongxi-awa.github.io/pixiv">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-pixiv fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Pixiv</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>Pixiv æ”¶è—</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/1/1
        </span>
        
        
    </div>
    
    <div class="content" v-pre>
        <!-- ç­›é€‰å™¨ -->
<div class="pixiv-filters">
  <div class="filter-group">
    <label>æ’åºæ–¹å¼ï¼š</label>
    <select id="sortBy">
      <option value="date-desc">æ”¶è—æ—¶é—´ï¼ˆæ–°â†’æ—§ï¼‰</option>
      <option value="date-asc">æ”¶è—æ—¶é—´ï¼ˆæ—§â†’æ–°ï¼‰</option>
      <option value="bookmarks-desc">æ”¶è—æ•°ï¼ˆé«˜â†’ä½ï¼‰</option>
      <option value="title-asc">æ ‡é¢˜ï¼ˆAâ†’Zï¼‰</option>
    </select>
  </div>
  
  <div class="filter-group">
    <label>ç­›é€‰ä½œè€…ï¼š</label>
    <select id="authorFilter">
      <option value="all">å…¨éƒ¨ä½œè€…</option>
    </select>
  </div>
  
  <div class="filter-group">
    <label>æ˜¾ç¤ºæ¨¡å¼ï¼š</label>
    <div class="view-toggle">
      <button class="view-btn active" data-view="grid">ç½‘æ ¼è§†å›¾</button>
      <button class="view-btn" data-view="list">åˆ—è¡¨è§†å›¾</button>
    </div>
  </div>
</div>

<!-- æ ‡ç­¾äº‘ -->
<div class="tag-cloud-container">
  <h3>æ ‡ç­¾ç­›é€‰</h3>
  <div class="tag-cloud" id="tagCloud"></div>
</div>

<!-- ä½œå“å±•ç¤ºåŒº -->
<div class="pixiv-main">
  <h3>ä½œå“å±•ç¤º <span id="worksCount">(0)</span></h3>
  
  <!-- ç½‘æ ¼è§†å›¾ -->
  <div class="pixiv-grid" id="pixivGrid">
    <!-- ä½œå“å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
  </div>
  
  <!-- åˆ—è¡¨è§†å›¾ï¼ˆé»˜è®¤éšè—ï¼‰ -->
  <div class="pixiv-list" id="pixivList" style="display: none;">
    <table>
      <thead>
        <tr>
          <th>ä½œå“</th>
          <th>ä½œè€…</th>
          <th>æ”¶è—æ—¶é—´</th>
          <th>æ ‡ç­¾</th>
          <th>æ”¶è—æ•°</th>
          <th>æ“ä½œ</th>
        </tr>
      </thead>
      <tbody id="listTableBody">
        <!-- è¡¨æ ¼è¡Œå°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
      </tbody>
    </table>
  </div>
</div>

<style>
/* å…¨å±€æ ·å¼ */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background-color: #f5f5f5;
  margin: 0;
  padding: 20px;
}

/* ç­›é€‰å™¨ */
.pixiv-filters {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.08);
  margin-bottom: 30px;
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  align-items: center;
}

.filter-group {
  display: flex;
  align-items: center;
  gap: 10px;
}

.filter-group label {
  font-weight: 500;
  color: #555;
  white-space: nowrap;
}

.filter-group select {
  padding: 8px 15px;
  border: 1px solid #ddd;
  border-radius: 5px;
  background: white;
  min-width: 150px;
  cursor: pointer;
  font-size: 14px;
}

.view-toggle {
  display: flex;
  gap: 5px;
}

.view-btn {
  padding: 8px 20px;
  border: 1px solid #ddd;
  background: white;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s;
  font-size: 14px;
}

.view-btn:hover {
  background: #f0f2f5;
}

.view-btn.active {
  background: #667eea;
  color: white;
  border-color: #667eea;
}

/* æ ‡ç­¾äº‘ */
.tag-cloud-container {
  background: white;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.08);
  margin-bottom: 30px;
}

.tag-cloud-container h3 {
  margin: 0 0 15px 0;
  color: #333;
  font-size: 18px;
}

.tag-cloud {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.tag-item {
  padding: 6px 12px;
  background: #f0f2f5;
  border-radius: 15px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.3s;
  border: 1px solid transparent;
  color: #555;
}

.tag-item:hover {
  background: #667eea;
  color: white;
  transform: translateY(-2px);
}

.tag-item.active {
  background: #667eea;
  color: white;
  border-color: #667eea;
}

/* ä½œå“å±•ç¤ºåŒº */
.pixiv-main {
  background: white;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.08);
}

.pixiv-main h3 {
  margin: 0 0 25px 0;
  color: #333;
  border-bottom: 2px solid #f0f2f5;
  padding-bottom: 10px;
  font-size: 20px;
}

/* ç½‘æ ¼è§†å›¾ */
.pixiv-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 25px;
}

.grid-item {
  position: relative;
  overflow: hidden;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s, box-shadow 0.3s;
  background: white;
  border: 1px solid #eee;
}

.grid-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.grid-item a {
  text-decoration: none;
  color: inherit;
  display: block;
}

.grid-image {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
  transition: transform 0.5s;
}

.grid-item:hover .grid-image {
  transform: scale(1.05);
}

.grid-info {
  padding: 15px;
}

.grid-title {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 8px;
  color: #333;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.grid-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: #666;
}

.grid-author {
  color: #667eea;
  font-weight: 500;
}

.grid-bookmarks {
  color: #f5576c;
  font-weight: 500;
}

/* åˆ—è¡¨è§†å›¾ */
.pixiv-list table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  font-size: 14px;
}

.pixiv-list th {
  background: #f8f9fa;
  padding: 15px;
  text-align: left;
  font-weight: 600;
  color: #495057;
  border-bottom: 2px solid #dee2e6;
}

.pixiv-list td {
  padding: 15px;
  border-bottom: 1px solid #dee2e6;
  vertical-align: middle;
}

.list-item-image {
  width: 80px;
  height: 60px;
  object-fit: cover;
  border-radius: 5px;
  vertical-align: middle;
  margin-right: 15px;
}

.list-item-title {
  font-weight: 500;
  color: #333;
  vertical-align: middle;
}

.list-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

.list-tag {
  background: #f0f2f5;
  padding: 3px 8px;
  border-radius: 10px;
  font-size: 0.8rem;
  color: #555;
}

.action-btn {
  padding: 6px 12px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 0.85rem;
  transition: background 0.3s;
  text-decoration: none;
  display: inline-block;
}

.action-btn:hover {
  background: #5a6fd8;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  body {
    padding: 10px;
  }
  
  .pixiv-filters {
    flex-direction: column;
    align-items: stretch;
    gap: 15px;
  }
  
  .filter-group {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .filter-group select {
    width: 100%;
  }
  
  .pixiv-grid {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 15px;
  }
  
  .pixiv-main {
    padding: 20px;
  }
  
  .pixiv-list table {
    display: block;
    overflow-x: auto;
  }
}

/* åŠ è½½çŠ¶æ€ */
.loading {
  text-align: center;
  padding: 50px;
  color: #666;
  grid-column: 1 / -1;
}

.no-results {
  text-align: center;
  padding: 50px;
  color: #666;
  grid-column: 1 / -1;
}

.loading-spinner {
  display: inline-block;
  width: 40px;
  height: 40px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>

<script>
// Pixiv æ•°æ®ï¼ˆç¤ºä¾‹æ•°æ®ï¼‰
const pixivData = [
  {
    id: "12345678",
    title: "æ˜¥æ—¥ã®æ¡œ",
    image: "https://via.placeholder.com/1200x800/667eea/ffffff?text=æ¨±èŠ±é£æ™¯",
    thumbnail: "https://via.placeholder.com/300x200/667eea/ffffff?text=æ¨±èŠ±é£æ™¯",
    author: "æ¡œæ²¢åƒä»£",
    author_id: "111111",
    link: "https://www.pixiv.net/artworks/12345678",
    date: "2024-03-15",
    tags: ["æ¨±èŠ±", "é£æ™¯", "æ˜¥å¤©", "æ—¥æœ¬"],
    width: 1200,
    height: 800,
    bookmarks: 1234
  },
  {
    id: "87654321",
    title: "æ˜Ÿç©ºã®æ—…",
    image: "https://via.placeholder.com/1000x1400/f093fb/ffffff?text=æ˜Ÿç©ºå¹»æƒ³",
    thumbnail: "https://via.placeholder.com/250x350/f093fb/ffffff?text=æ˜Ÿç©ºå¹»æƒ³",
    author: "æ˜Ÿé‡å¤¢",
    author_id: "222222",
    link: "https://www.pixiv.net/artworks/87654321",
    date: "2024-02-28",
    tags: ["æ˜Ÿç©º", "å¹»æƒ³", "å®‡å®™", "å¤œæ™¯"],
    width: 1000,
    height: 1400,
    bookmarks: 856
  },
  {
    id: "55555555",
    title: "æµ·è¾ºã®å°‘å¥³",
    image: "https://via.placeholder.com/1500x1000/4facfe/ffffff?text=æµ·è¾¹å°‘å¥³",
    thumbnail: "https://via.placeholder.com/300x200/4facfe/ffffff?text=æµ·è¾¹å°‘å¥³",
    author: "æµ·è€åŸå„ª",
    author_id: "333333",
    link: "https://www.pixiv.net/artworks/55555555",
    date: "2024-03-10",
    tags: ["äººç‰©", "æµ·è¾¹", "å¤å¤©", "å°‘å¥³"],
    width: 1500,
    height: 1000,
    bookmarks: 2345
  },
  {
    id: "66666666",
    title: "ç§‹ã®ç´…è‘‰",
    image: "https://via.placeholder.com/1600x900/43e97b/ffffff?text=ç§‹å¤©çº¢å¶",
    thumbnail: "https://via.placeholder.com/320x180/43e97b/ffffff?text=ç§‹å¤©çº¢å¶",
    author: "æ¥“å±±å¤ªéƒ",
    author_id: "444444",
    link: "https://www.pixiv.net/artworks/66666666",
    date: "2023-11-05",
    tags: ["çº¢å¶", "ç§‹å¤©", "é£æ™¯", "æ—¥æœ¬"],
    width: 1600,
    height: 900,
    bookmarks: 1890
  },
  {
    id: "77777777",
    title: "å†¬ã®é­”æ³•ä½¿ã„",
    image: "https://via.placeholder.com/1200x1600/fa709a/ffffff?text=å†¬æ—¥é­”æ³•",
    thumbnail: "https://via.placeholder.com/240x320/fa709a/ffffff?text=å†¬æ—¥é­”æ³•",
    author: "é›ªæ‘ã‚¢ãƒªã‚¹",
    author_id: "555555",
    link: "https://www.pixiv.net/artworks/77777777",
    date: "2023-12-20",
    tags: ["é­”æ³•", "å†¬å¤©", "å¹»æƒ³", "è§’è‰²è®¾è®¡", "å°‘å¥³"],
    width: 1200,
    height: 1600,
    bookmarks: 3120
  },
  {
    id: "88888888",
    title: "æ˜¥æ—¥ã®æ¡œ ãã®2",
    image: "https://via.placeholder.com/1300x850/667eea/ffffff?text=æ¨±èŠ±é£æ™¯2",
    thumbnail: "https://via.placeholder.com/260x170/667eea/ffffff?text=æ¨±èŠ±é£æ™¯2",
    author: "æ¡œæ²¢åƒä»£",
    author_id: "111111",
    link: "https://www.pixiv.net/artworks/88888888",
    date: "2024-03-20",
    tags: ["æ¨±èŠ±", "é£æ™¯", "æ˜¥å¤©"],
    width: 1300,
    height: 850,
    bookmarks: 987
  },
  {
    id: "99999999",
    title: "éƒ½å¸‚å¤œæ™¯",
    image: "https://via.placeholder.com/1400x900/9966ff/ffffff?text=éƒ½å¸‚å¤œæ™¯",
    thumbnail: "https://via.placeholder.com/280x180/9966ff/ffffff?text=éƒ½å¸‚å¤œæ™¯",
    author: "æ±äº¬å¤œæ™¯",
    author_id: "666666",
    link: "https://www.pixiv.net/artworks/99999999",
    date: "2024-01-15",
    tags: ["å¤œæ™¯", "éƒ½å¸‚", "å»ºç­‘", "ç°ä»£"],
    width: 1400,
    height: 900,
    bookmarks: 1567
  },
  {
    id: "10101010",
    title: "å’Œé¢¨ç¾äºº",
    image: "https://via.placeholder.com/1100x1600/ff9f40/ffffff?text=å’Œé£ç¾äºº",
    thumbnail: "https://via.placeholder.com/220x320/ff9f40/ffffff?text=å’Œé£ç¾äºº",
    author: "å’Œé¢¨çµµå¸«",
    author_id: "777777",
    link: "https://www.pixiv.net/artworks/10101010",
    date: "2024-02-10",
    tags: ["å’Œé£", "äººç‰©", "ä¼ ç»Ÿ", "æ—¥æœ¬", "ç¾äºº"],
    width: 1100,
    height: 1600,
    bookmarks: 2789
  }
];

// å…¨å±€å˜é‡
let filteredData = [...pixivData];
let currentView = 'grid';
let currentAuthor = 'all';
let currentTag = 'all';
let sortBy = 'date-desc';

// é¡µé¢åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
  initPixivPage();
});

// åˆå§‹åŒ–é¡µé¢
function initPixivPage() {
  console.log('æ­£åœ¨åˆå§‹åŒ–Pixivæ”¶è—é¡µé¢...');
  try {
    renderAuthorsFilter();
    renderTagCloud();
    renderWorks();
    setupEventListeners();
    console.log('é¡µé¢åˆå§‹åŒ–å®Œæˆ');
  } catch (error) {
    console.error('åˆå§‹åŒ–é”™è¯¯:', error);
  }
}

// æ›´æ–°ä½œå“è®¡æ•°
function updateWorksCount() {
  const worksCountElement = document.getElementById('worksCount');
  if (worksCountElement) {
    worksCountElement.textContent = `(${filteredData.length})`;
  }
}

// æ¸²æŸ“ä½œè€…ç­›é€‰å™¨
function renderAuthorsFilter() {
  const select = document.getElementById('authorFilter');
  if (!select) return;
  
  // æ¸…ç©ºç°æœ‰é€‰é¡¹ï¼ˆé™¤äº†ç¬¬ä¸€ä¸ªï¼‰
  while (select.options.length > 1) {
    select.remove(1);
  }
  
  // è·å–æ‰€æœ‰ä½œè€…å¹¶å»é‡æ’åº
  const authors = [...new Set(pixivData.map(item => item.author))].sort();
  
  // æ·»åŠ ä½œè€…é€‰é¡¹
  authors.forEach(author => {
    const option = document.createElement('option');
    option.value = author;
    option.textContent = author;
    select.appendChild(option);
  });
}

// æ¸²æŸ“æ ‡ç­¾äº‘
function renderTagCloud() {
  const tagCloud = document.getElementById('tagCloud');
  if (!tagCloud) return;
  
  // è®¡ç®—æ ‡ç­¾å‡ºç°æ¬¡æ•°
  const tagCounts = {};
  pixivData.forEach(work => {
    work.tags.forEach(tag => {
      tagCounts[tag] = (tagCounts[tag] || 0) + 1;
    });
  });
  
  // æŒ‰æ¬¡æ•°æ’åºï¼Œå–å‰15ä¸ª
  const sortedTags = Object.entries(tagCounts)
    .sort((a, b) => b[1] - a[1])
    .slice(0, 15);
  
  // æ¸…ç©ºæ ‡ç­¾äº‘
  tagCloud.innerHTML = '';
  
  // æ·»åŠ "å…¨éƒ¨"æ ‡ç­¾
  const allTag = document.createElement('span');
  allTag.className = `tag-item ${currentTag === 'all' ? 'active' : ''}`;
  allTag.textContent = 'å…¨éƒ¨';
  allTag.onclick = () => filterByTag('all');
  tagCloud.appendChild(allTag);
  
  // æ·»åŠ çƒ­é—¨æ ‡ç­¾
  sortedTags.forEach(([tag, count]) => {
    const tagItem = document.createElement('span');
    tagItem.className = `tag-item ${currentTag === tag ? 'active' : ''}`;
    tagItem.textContent = `${tag} (${count})`;
    tagItem.onclick = () => filterByTag(tag);
    tagCloud.appendChild(tagItem);
  });
}

// æ¸²æŸ“ä½œå“
function renderWorks() {
  filterAndSortData();
  if (currentView === 'grid') {
    renderGridView();
  } else {
    renderListView();
  }
  updateWorksCount();
}

// è¿‡æ»¤å’Œæ’åºæ•°æ®
function filterAndSortData() {
  filteredData = [...pixivData];
  
  // æŒ‰ä½œè€…ç­›é€‰
  if (currentAuthor !== 'all') {
    filteredData = filteredData.filter(item => item.author === currentAuthor);
  }
  
  // æŒ‰æ ‡ç­¾ç­›é€‰
  if (currentTag !== 'all') {
    filteredData = filteredData.filter(item => item.tags.includes(currentTag));
  }
  
  // æ’åº
  filteredData.sort((a, b) => {
    const dateA = new Date(a.date);
    const dateB = new Date(b.date);
    
    switch (sortBy) {
      case 'date-desc':
        return dateB - dateA;
      case 'date-asc':
        return dateA - dateB;
      case 'bookmarks-desc':
        return (b.bookmarks || 0) - (a.bookmarks || 0);
      case 'title-asc':
        return a.title.localeCompare(b.title, 'ja-JP');
      default:
        return dateB - dateA;
    }
  });
}

// æ¸²æŸ“ç½‘æ ¼è§†å›¾
function renderGridView() {
  const grid = document.getElementById('pixivGrid');
  if (!grid) return;
  
  if (filteredData.length === 0) {
    grid.innerHTML = '<div class="no-results">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ä½œå“</div>';
    return;
  }
  
  let gridHTML = '';
  
  filteredData.forEach(item => {
    gridHTML += `
      <div class="grid-item">
        <a href="${item.link}" target="_blank" rel="noopener noreferrer">
          <img src="${item.thumbnail}" alt="${item.title}" class="grid-image" loading="lazy">
          <div class="grid-info">
            <div class="grid-title" title="${item.title}">${item.title}</div>
            <div class="grid-meta">
              <span class="grid-author" title="ä½œè€…">${item.author}</span>
              <span class="grid-bookmarks" title="æ”¶è—æ•°">â¤ï¸ ${item.bookmarks.toLocaleString()}</span>
            </div>
          </div>
        </a>
      </div>
    `;
  });
  
  grid.innerHTML = gridHTML;
}

// æ¸²æŸ“åˆ—è¡¨è§†å›¾
function renderListView() {
  const tbody = document.getElementById('listTableBody');
  if (!tbody) return;
  
  if (filteredData.length === 0) {
    tbody.innerHTML = '<tr><td colspan="6" class="no-results">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ä½œå“</td></tr>';
    return;
  }
  
  let tableHTML = '';
  
  filteredData.forEach(item => {
    tableHTML += `
      <tr>
        <td>
          <img src="${item.thumbnail}" alt="${item.title}" class="list-item-image">
          <span class="list-item-title">${item.title}</span>
        </td>
        <td>${item.author}</td>
        <td>${item.date}</td>
        <td>
          <div class="list-tags">
            ${item.tags.map(tag => `<span class="list-tag">${tag}</span>`).join('')}
          </div>
        </td>
        <td>${item.bookmarks.toLocaleString()}</td>
        <td>
          <a href="${item.link}" target="_blank" rel="noopener noreferrer">
            <button class="action-btn">æŸ¥çœ‹åŸå›¾</button>
          </a>
        </td>
      </tr>
    `;
  });
  
  tbody.innerHTML = tableHTML;
}

// è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
function setupEventListeners() {
  // æ’åºæ–¹å¼æ”¹å˜
  const sortSelect = document.getElementById('sortBy');
  if (sortSelect) {
    sortSelect.addEventListener('change', (e) => {
      sortBy = e.target.value;
      renderWorks();
    });
  }
  
  // ä½œè€…ç­›é€‰æ”¹å˜
  const authorSelect = document.getElementById('authorFilter');
  if (authorSelect) {
    authorSelect.addEventListener('change', (e) => {
      currentAuthor = e.target.value;
      renderWorks();
    });
  }
  
  // è§†å›¾åˆ‡æ¢æŒ‰é’®
  const viewButtons = document.querySelectorAll('.view-btn');
  viewButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
      viewButtons.forEach(b => b.classList.remove('active'));
      // ç»™å½“å‰æŒ‰é’®æ·»åŠ activeç±»
      btn.classList.add('active');
      
      currentView = btn.dataset.view;
      
      const gridView = document.getElementById('pixivGrid');
      const listView = document.getElementById('pixivList');
      
      if (currentView === 'grid') {
        gridView.style.display = 'grid';
        listView.style.display = 'none';
        renderGridView();
      } else {
        gridView.style.display = 'none';
        listView.style.display = 'block';
        renderListView();
      }
    });
  });
}

// æŒ‰æ ‡ç­¾ç­›é€‰
function filterByTag(tag) {
  currentTag = tag;
  renderTagCloud();
  renderWorks();
}

// å¯¼å‡ºå‡½æ•°ä¾›å…¨å±€ä½¿ç”¨
window.filterByTag = filterByTag;
</script>
    </div>
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 å†¬æ –ã®å°çª
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;å†¬æ –
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

<!-- å…ˆåŠ è½½ jQuery (åªåŠ è½½ä¸€æ¬¡) -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

<!-- çœ‹æ¿å¨˜æ ·å¼ -->
<link rel="stylesheet" href="/dongxi-awa.github.io/live2d/waifu.css">

<!-- Sakana Widget çŸ³è’œæ¨¡æ‹Ÿå™¨ (åªåŠ è½½ä¸€æ¬¡) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sakana-widget@2.7.1/lib/sakana.min.css">

<!-- æœ€ç»ˆå…‰æ ‡è¦†ç›– - åœ¨ç»„ä»¶CSSä¹‹ååŠ è½½ï¼Œç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ -->
<style>
    /* å¼ºåŠ›è¦†ç›–ç»„ä»¶çš„å…‰æ ‡æ ·å¼ */
    .waifu-tool span,
    [class*="fui-"],
    .fui-home,
    .fui-chat,
    .fui-eye,
    .fui-user,
    .fui-photo,
    .fui-info-circle,
    .fui-cross {
        cursor: url('/dongxi-awa.github.io/cursors/Link.png'), pointer !important;
    }
    
    #sakana-widget,
    #sakana-widget * {
        cursor: url('/dongxi-awa.github.io/cursors/Move.png'), move !important;
    }
    
    /* ç¡®ä¿ Live2D ç”»å¸ƒä½¿ç”¨é»˜è®¤å…‰æ ‡ */
    #live2d,
    .live2d {
        cursor: url('/dongxi-awa.github.io/cursors/Normal.png'), auto !important;
    }
</style>

<!-- çœ‹æ¿å¨˜å®¹å™¨ -->
<div class="waifu" id="waifu-container" style="position: fixed; bottom: 0px; left: 20px; z-index: 998;">
    <div class="waifu-tips"></div>
    <canvas id="live2d" class="live2d" width="280" height="250"></canvas>
    <div class="waifu-tool">
        <span class="fui-home"></span>
        <span class="fui-chat"></span>
        <span class="fui-eye"></span>
        <span class="fui-user"></span>
        <span class="fui-photo"></span>
        <span class="fui-info-circle"></span>
        <span class="fui-cross"></span>
    </div>
</div>

<!-- Sakana Widget å®¹å™¨ (ç¡®ä¿åªå­˜åœ¨ä¸€ä¸ª) -->
<div id="sakana-widget" style="position: fixed; bottom: 20px; right: 20px; z-index: 999; width: 120px; height: 180px;"></div>

<!-- æ­£ç¡®çš„è„šæœ¬åŠ è½½é¡ºåº -->
<script src="/dongxi-awa.github.io/live2d/live2d.js"></script>
<script src="/dongxi-awa.github.io/live2d/waifu-tips.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sakana-widget@2.7.1/lib/sakana.min.js"></script>

<script type="text/javascript">
// å®Œæ•´çš„ Live2D åˆå§‹åŒ–
function initializeLive2D() {
    console.log('å¼€å§‹åˆå§‹åŒ– Live2D...');
    console.log('ç¯å¢ƒæ£€æµ‹ - jQuery:', typeof $, 'initModel:', typeof initModel, 'loadlive2d:', typeof loadlive2d);
    
    // æ£€æŸ¥ä¾èµ–æ˜¯å¦åŠ è½½å®Œæˆ
    if (typeof $ === 'undefined') {
        console.log('ç­‰å¾… jQuery åŠ è½½...');
        setTimeout(initializeLive2D, 100);
        return;
    }
    
    if (typeof initModel === 'undefined') {
        console.log('ç­‰å¾… waifu-tips.js åŠ è½½...');
        setTimeout(initializeLive2D, 100);
        return;
    }

    try {
        // ä½¿ç”¨å®Œæ•´çš„ initModel åŠŸèƒ½
        const tipsPath = '/dongxi-awa.github.io/live2d/waifu-tips.json';
        console.log('ä½¿ç”¨å®Œæ•´åŠŸèƒ½åˆå§‹åŒ–ï¼Œè·¯å¾„:', tipsPath);
        
        initModel(tipsPath);
        
    } catch (error) {
        console.error('Live2D åˆå§‹åŒ–å¤±è´¥:', error);
        
        // å¤‡ç”¨æ–¹æ¡ˆï¼šç›´æ¥åŠ è½½æ¨¡å‹
        if (typeof loadlive2d === 'function') {
            console.log('ä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆåŠ è½½æ¨¡å‹...');
            loadlive2d('live2d', '/dongxi-awa.github.io/live2d/model/38/index.json');
        }
    }
}

// ä¿®å¤çš„ Sakana Widget åˆå§‹åŒ– - ä½¿ç”¨æ­£ç¡®çš„åˆå§‹åŒ–æ–¹æ³•
function initSakanaWidget() {
    console.log('ğŸ”„ åˆå§‹åŒ– Sakana Widget...');
    
    // æ£€æŸ¥åº“æ˜¯å¦åŠ è½½
    if (typeof SakanaWidget === 'undefined') {
        console.log('â³ ç­‰å¾… SakanaWidget åº“åŠ è½½...');
        setTimeout(initSakanaWidget, 500);
        return;
    }
    
    const container = document.getElementById('sakana-widget');
    if (!container) {
        console.error('âŒ Sakana Widget å®¹å™¨æœªæ‰¾åˆ°');
        return;
    }
    
    try {
        // æ¸…ç©ºå®¹å™¨å†…å®¹ï¼ˆé¿å…é‡å¤æŒ‚è½½ï¼‰
        container.innerHTML = '';
        
        // ä¿®å¤ï¼šä½¿ç”¨æ­£ç¡®çš„åˆå§‹åŒ–æ–¹æ³• - new SakanaWidget()
        const widget = new SakanaWidget().mount('#sakana-widget');
        
        console.log('âœ… Sakana Widget åˆå§‹åŒ–æˆåŠŸ');
        
        // æ·»åŠ æ‹–æ‹½åŠŸèƒ½
        addSakanaDrag(container, widget);
        
    } catch (error) {
        console.error('âŒ Sakana Widget åˆå§‹åŒ–å¤±è´¥:', error);
        
        // å¤‡ç”¨åˆå§‹åŒ–æ–¹æ³•
        try {
            console.log('ğŸ”„ å°è¯•å¤‡ç”¨åˆå§‹åŒ–æ–¹æ³•...');
            const widget = SakanaWidget.mount('#sakana-widget');
            console.log('âœ… å¤‡ç”¨æ–¹æ³•æˆåŠŸ');
            addSakanaDrag(container, widget);
        } catch (error2) {
            console.error('âŒ æ‰€æœ‰åˆå§‹åŒ–æ–¹æ³•éƒ½å¤±è´¥äº†:', error2);
        }
    }
}

// æ‹–æ‹½åŠŸèƒ½
function addSakanaDrag(container, widget) {
    let isDragging = false;
    let startX, startY, initialLeft, initialTop;

    container.addEventListener('mousedown', function(e) {
        isDragging = true;
        startX = e.clientX;
        startY = e.clientY;
        
        const rect = container.getBoundingClientRect();
        initialLeft = rect.left;
        initialTop = rect.top;
        
        container.style.transition = 'none';
        container.style.cursor = 'grabbing';
        e.preventDefault();
        e.stopPropagation();
    });

    document.addEventListener('mousemove', function(e) {
        if (!isDragging) return;
        
        const deltaX = e.clientX - startX;
        const deltaY = e.clientY - startY;
        
        const newX = initialLeft + deltaX;
        const newY = initialTop + deltaY;
        
        // é™åˆ¶åœ¨çª—å£èŒƒå›´å†…
        const maxX = window.innerWidth - container.offsetWidth;
        const maxY = window.innerHeight - container.offsetHeight;
        
        const safeX = Math.max(0, Math.min(newX, maxX));
        const safeY = Math.max(0, Math.min(newY, maxY));
        
        container.style.left = `${safeX}px`;
        container.style.top = `${safeY}px`;
    });

    document.addEventListener('mouseup', function() {
        if (isDragging) {
            isDragging = false;
            container.style.transition = 'all 0.3s ease';
            container.style.cursor = 'url("/dongxi-awa.github.io/cursors/Move.png"), move';
            
            // è§¦å‘ç‰©ç†æ•ˆæœ
            if (widget && widget.applyForce) {
                widget.applyForce(0.2, 0.05);
            }
        }
    });
}

// é¡µé¢åŠ è½½ååˆå§‹åŒ–æ‰€æœ‰ç»„ä»¶
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM åŠ è½½å®Œæˆï¼Œå‡†å¤‡åˆå§‹åŒ–æ‰€æœ‰ç»„ä»¶');
    
    // åˆå§‹åŒ– Live2D
    setTimeout(initializeLive2D, 500);
    
    // åˆå§‹åŒ– Sakana Widgetï¼ˆç¨æ™šä¸€äº›ï¼‰
    setTimeout(initSakanaWidget, 1000);
});

// æœ€ç»ˆæ£€æŸ¥
window.addEventListener('load', function() {
    console.log('é¡µé¢å®Œå…¨åŠ è½½å®Œæˆ');
    
    // å¦‚æœ waifu-tips.js åŠ è½½å¤±è´¥ï¼Œå°è¯•ç›´æ¥åŠ è½½æ¨¡å‹
    setTimeout(function() {
        const canvas = document.getElementById('live2d');
        if (!canvas || canvas.width === 0) {
            console.log('æ£€æµ‹åˆ°çœ‹æ¿å¨˜æœªæ­£ç¡®åŠ è½½ï¼Œå¼ºåˆ¶é‡è¯•...');
            if (typeof loadlive2d === 'function') {
                loadlive2d('live2d', '/dongxi-awa.github.io/live2d/model/38/index.json');
            }
        }
        
        // æœ€ç»ˆæ£€æŸ¥ Sakana Widget
        setTimeout(function() {
            const sakanaContainer = document.getElementById('sakana-widget');
            if (sakanaContainer && sakanaContainer.children.length === 0) {
                console.log('ğŸ”„ æœ€ç»ˆé‡è¯• Sakana Widget...');
                initSakanaWidget();
            }
        }, 2000);
    }, 5000);
});
</script>

<!-- å®Œç¾æ°¸ä¹…å…‰æ ‡è§£å†³æ–¹æ¡ˆ -->
<script>
// å®Œç¾æ°¸ä¹…å…‰æ ‡è§£å†³æ–¹æ¡ˆ
function perfectPermanentCursorSolution() {
    console.log('ğŸš€ å¯åŠ¨å®Œç¾æ°¸ä¹…å…‰æ ‡è§£å†³æ–¹æ¡ˆ');
    
    // 1. æ‹¦æˆªæ‰€æœ‰å…‰æ ‡è®¾ç½®
    const originalSetProperty = CSSStyleDeclaration.prototype.setProperty;
    CSSStyleDeclaration.prototype.setProperty = function(property, value, priority) {
        if (property === 'cursor' && value && !value.includes('cursors')) {
            console.log('ğŸš« é˜»æ­¢å…‰æ ‡é‡ç½®å¹¶è®¾ç½®è‡ªå®šä¹‰å…‰æ ‡');
            this.cursor = 'url("/dongxi-awa.github.io/cursors/Link.png"), pointer';
            return;
        }
        return originalSetProperty.apply(this, arguments);
    };
    
    // 2. ä¸“é—¨å¤„ç†é¡½å›ºçš„ Sakana å…ƒç´ 
    function fixStubbornSakanaElements() {
        const stubbornElements = document.querySelectorAll('.sakana-widget-img, .sakana-widget-ctrl');
        stubbornElements.forEach(element => {
            if (!element.style.cursor.includes('cursors')) {
                element.style.cursor = 'url("/dongxi-awa.github.io/cursors/Move.png"), move !important';
                element.style.setProperty('cursor', 'url("/dongxi-awa.github.io/cursors/Move.png"), move', 'important');
            }
        });
    }
    
    // 3. æŒç»­è¦†ç›–å‡½æ•°
    function applyCustomCursors() {
        // Live2D æŒ‰é’®
        const live2dButtons = document.querySelectorAll('.waifu-tool span, [class*="fui-"]');
        live2dButtons.forEach(button => {
            if (!button.style.cursor.includes('cursors')) {
                button.style.cursor = 'url("/dongxi-awa.github.io/cursors/Link.png"), pointer';
            }
        });
        
        // Sakana Widget
        const sakana = document.getElementById('sakana-widget');
        if (sakana) {
            if (!sakana.style.cursor.includes('cursors')) {
                sakana.style.cursor = 'url("/dongxi-awa.github.io/cursors/Move.png"), move !important';
            }
            
            // ä¸“é—¨å¤„ç†é¡½å›ºå…ƒç´ 
            fixStubbornSakanaElements();
        }
    }
    
    // 4. é«˜é¢‘ç›‘æ§
    setInterval(applyCustomCursors, 500);
    
    // 5. DOM å˜åŒ–ç›‘æ§
    const observer = new MutationObserver(() => {
        setTimeout(applyCustomCursors, 100);
    });
    observer.observe(document.body, { childList: true, subtree: true });
    
    // 6. ç«‹å³æ‰§è¡Œ
    applyCustomCursors();
    
    console.log('âœ… å®Œç¾æ°¸ä¹…å…‰æ ‡è§£å†³æ–¹æ¡ˆå¯åŠ¨å®Œæˆ');
}

// åœ¨é¡µé¢åŠ è½½åå¯åŠ¨
setTimeout(perfectPermanentCursorSolution, 2000);
</script>

<!-- å¼•å…¥ mouse-firework åº“ -->
<script src="https://cdn.jsdelivr.net/npm/mouse-firework@latest/dist/index.umd.js"></script>

<!-- åˆå§‹åŒ–çƒŸèŠ±æ•ˆæœï¼ˆæ¸…æ–°è“ç»¿ç³»ï¼‰ -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    firework({
      excludeElements: ["a", "button"], // æ’é™¤äº¤äº’å…ƒç´ ï¼Œé¿å…è¯¯è§¦
      particles: [
        {
          shape: "circle",
          move: "emit",
          easing: "easeOutExpo",
          colors: [
            "rgba(64, 158, 255, 0.8)", // æ·¡è“
            "rgba(103, 194, 58, 0.8)",  // æµ…ç»¿
            "rgba(144, 202, 249, 0.9)", // æµ…å¤©è“
            "rgba(187, 222, 138, 0.9)"  // å«©è‰ç»¿
          ],
          number: 25, // ç²’å­æ•°é‡ï¼ˆé€‚ä¸­ï¼Œä¸å¯†é›†ï¼‰
          duration: [1000, 1600], // åŠ¨ç”»æ—¶é•¿
          shapeOptions: {
            radius: [6, 14] // ç²’å­å°ºå¯¸ï¼ˆçº¤ç»†æ¸…æ–°ï¼‰
          },
          moveOptions: {
            speed: [2.5, 4.5],
            distance: [25, 55],
            randomness: 0.4 // è¿åŠ¨æ›´çµåŠ¨
          },
          opacity: {
            start: 0.9,
            end: 0.1 // æ¸å˜æ›´æŸ”å’Œ
          },
          scale: {
            start: 1,
            end: 0.3
          }
        }
      ]
    });
  });
</script>
        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/dongxi-awa.github.io/js/main.js"></script>
    
</body>
</html>